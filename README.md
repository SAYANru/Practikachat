# QuickChat Server

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ **QuickChat**, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ ASP.NET Core —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ SignalR –∏ JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —á–∞—Ç–∞–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- –û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ SignalR
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- PostgreSQL –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –°–£–ë–î
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ (Redis, PgBouncer)
- CI/CD, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## üß© –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –ë—ç–∫–µ–Ω–¥

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                             |
|------------------------|----------------------------------------|
| ASP.NET Core 6.0       | REST API, SignalR                      |
| Entity Framework Core  | ORM –¥–ª—è PostgreSQL                     |
| SignalR                | WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è                   |
| JWT Bearer Auth        | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è                         |
| FluentValidation       | –í–∞–ª–∏–¥–∞—Ü–∏—è DTO                          |
| AutoMapper             | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π <-> DTO         |

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                 |
|---------------|--------------------------------------------|
| PostgreSQL 14+| –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î                    |
| Redis 6.2     | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ pub/sub                      |
| PgBouncer     | –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π                             |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- Docker
- Nginx
- GitHub Actions
- Prometheus + Grafana

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- Let's Encrypt (SSL)
- Rate Limiting (ASP.NET Middleware)
- BCrypt.Net (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)

## üìí –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å               | –û–ø–∏—Å–∞–Ω–∏–µ                |
|-------|--------------------|-------------------------|
| POST  | /api/auth/register | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|
| POST  | /api/auth/login    | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É          |

### –ß–∞—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å         | –û–ø–∏—Å–∞–Ω–∏–µ             |
|-------|--------------|----------------------|
| GET   | /api/chats   | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤|
| POST  | /api/chats   | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç    |

### –°–æ–æ–±—â–µ–Ω–∏—è

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å           | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|-------|----------------|---------------------------------|
| GET   | /api/messages  | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —á–∞—Ç–∞     |
| POST  | /api/messages  | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ             |

## üîí –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤—ã–¥–∞–µ—Ç—Å—è JWT-—Ç–æ–∫–µ–Ω.
- –¢–æ–∫–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è middleware‚Äô–æ–º –∏ –≤–Ω—É—Ç—Ä–∏ SignalR —Ö–∞–±–∞.

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Windows Server 2019+ / Linux (Ubuntu 20.04+)
- .NET 6.0 SDK
- PostgreSQL 14+

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE DATABASE quickchat_db;
CREATE USER quickchat_user WITH PASSWORD '–í–∞—à_–ø–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON DATABASE quickchat_db TO quickchat_user;
```

–í `appsettings.json`:

```json
"ConnectionStrings": {
  "PostgreSQL": "Host=localhost;Port=5432;Database=quickchat_db;Username=quickchat_user;Password=–í–∞—à_–ø–∞—Ä–æ–ª—å;Pooling=true;"
}
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone https://github.com/SAYANru/Practikachat.git
cd Practikachat
dotnet restore
dotnet ef database update --project QuickChat.Server
dotnet run --project QuickChat.Server
```

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- `xUnit` ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `Moq` ‚Äî –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `Postman` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã API

## üìé –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É—Ç–∏ `/swagger`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Redis Pub/Sub
- –î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π: PlantUML

## üìÇ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

(https://github.com/SAYANru/Practikachat)
